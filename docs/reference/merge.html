<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Merge two tables — merge • joyn</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Merge two tables — merge" />
<meta property="og:description" content="This is the main and, basically, the only function in joyn." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">joyn</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/general-use.html">General use</a>
    </li>
    <li>
      <a href="../articles/advanced-use.html">Advanced use</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/randrescastaneda/joyn/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Merge two tables</h1>
    <small class="dont-index">Source: <a href='https://github.com/randrescastaneda/joyn/blob/master/R/merge.R'><code>R/merge.R</code></a></small>
    <div class="hidden name"><code>merge.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the main and, basically, the only function in joyn.</p>
    </div>

    <pre class="usage"><span class='fu'>merge</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sets.html'>intersect</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span><span class='op'>)</span>,
  yvars <span class='op'>=</span> <span class='cn'>TRUE</span>,
  match_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"m:m"</span>, <span class='st'>"m:1"</span>, <span class='st'>"1:m"</span>, <span class='st'>"1:1"</span><span class='op'>)</span>,
  keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"full"</span>, <span class='st'>"left"</span>, <span class='st'>"master"</span>, <span class='st'>"right"</span>, <span class='st'>"using"</span>, <span class='st'>"inner"</span><span class='op'>)</span>,
  update_values <span class='op'>=</span> <span class='cn'>FALSE</span>,
  update_NAs <span class='op'>=</span> <span class='va'>update_values</span>,
  reportvar <span class='op'>=</span> <span class='st'>"report"</span>,
  reporttype <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"character"</span>, <span class='st'>"numeric"</span><span class='op'>)</span>,
  roll <span class='op'>=</span> <span class='cn'>NULL</span>,
  keep_y_in_x <span class='op'>=</span> <span class='cn'>FALSE</span>,
  sort <span class='op'>=</span> <span class='cn'>TRUE</span>,
  verbose <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"joyn.verbose"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>data frame: referred to <em>left</em> in R terminology, or <em>master</em> in
Stata terminology.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>data frame: referred to <em>right</em> in R terminology, or <em>using</em> in
Stata terminology.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>a character vector of variables to join by. If NULL, the default,
joyn will do a natural join, using all variables with common names across
the two tables. A message lists the variables so that you can check they're
right (to suppress the message, simply explicitly list the variables that
you want to join). To join by different variables on x and y use a vector
of expressions. For example, <code>by = c("a = b", "z")</code> will use "a" in x, "b"
in y, and "z" in both tables.</p></td>
    </tr>
    <tr>
      <th>yvars</th>
      <td><p>character: Vector of variable names that will be kept after the
merge. If TRUE (the default), it keeps all the brings all the variables in
y into x. If FALSE or NULL, it does not bring any variable into x, but a
report will be generated.</p></td>
    </tr>
    <tr>
      <th>match_type</th>
      <td><p>character: one of <em>"m:m"</em>, <em>"m:1"</em>, <em>"1:m"</em>, <em>"1:1"</em>.
Default is <em>"m:m"</em> since this is the default generally used in joins in R.
However, following Stata's recommendation, it is better to be explicit and
use any of the other three match types (See details in <em>match types
sections</em>).</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>character: One of <em>"full"</em>, <em>"left"</em>, <em>"master"</em>, <em>"right"</em>,
<em>"using"</em>, <em>"inner"</em>. Default is <em>"full"</em>. Even though this is not the
regular behavior of joins in R, the objective of <code>joyn</code> is to present a
diagnosis of the join, so that it must use by default a full join. Yet, if
<em>"left"</em> or <em>"master"</em>, it keeps the observations that matched in both
tables and the ones that did not match in x. The ones in y will be
discarded. If <em>"right"</em> or <em>"using"</em>, it keeps the observations that
matched in both tables and the ones that did not match in y. The ones in x
will be discarded. If <em>"inner"</em>, it only keeps the observations that
matched both tables.</p></td>
    </tr>
    <tr>
      <th>update_values</th>
      <td><p>logical: If TRUE, it will update all values of variables
in x with the actual of variables in y with the same name as the ones in x.
<strong>NAs from y won't be used to update actual values in x</strong>.</p></td>
    </tr>
    <tr>
      <th>update_NAs</th>
      <td><p>logical: If TRUE, it will update NA values of all variables
in x with actual values of variables in y that have the same name as the
ones in x. If FALSE, NA values won't be updated.</p></td>
    </tr>
    <tr>
      <th>reportvar</th>
      <td><p>character: Name of reporting variable. Default if "report".
This is the same as variable "_merge" in Stata after performing a merge. If
FALSE or NULL, the reporting variable will be excluded from the final
table, though a summary of the join will be display after concluding.</p></td>
    </tr>
    <tr>
      <th>reporttype</th>
      <td><p>character: One of <em>"character"</em> or <em>"numeric"</em>. Default is
<em>"character"</em>. If <em>"numeric"</em>, the reporting variable will contain  numeric
codes of the source and the contents of each observation in the joined
table.</p></td>
    </tr>
    <tr>
      <th>roll</th>
      <td><p>double: <em>to be implemented</em></p></td>
    </tr>
    <tr>
      <th>keep_y_in_x</th>
      <td><p>logical: If TRUE, it will keep the original variable from
y when both tables have common variable names. Thus, the prefix "y." will
be added to the original name to distinguish from the resulting variable in
the joined table.</p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>logical: If TRUE, sort by key variables in <code>by</code>. Default is
TRUE.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical: if FALSE, it won't display any message (programmer's
option). Default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.table joining x and y.</p>
    <h2 class="hasAnchor" id="match-types"><a class="anchor" href="#match-types"></a>match types</h2>

    


<p>Using the same wording of the <a href='https://www.stata.com/manuals/dmerge.pdf'>Stata manual</a></p>
<p><strong>1:1</strong>: specifies a one-to-one match merge. The variables specified in
<code>by</code>  uniquely identify single observations in both table.</p>
<p><strong>1:m and m:1</strong>: specify <em>one-to-many</em> and <em>many-to-one</em> match merges,
respectively. This means that in of the tables the observations are
uniquely identify by the variables in <code>by</code>, while in the other table many
(two or more)  of the observations are identify by the variables in <code>by</code></p>
<p><strong>m:m</strong> refers to <em>many-to-many merge</em>. variables in <code>by</code> does not uniquely
identify the observations in either table. Matching is performed by
combining observations with equal values in <code>by</code>; within matching values,
the first observation in the master (i.e. left or x) table is matched with
the first matching observation in the using (i.e. right or y) table; the
second, with the second; and so on. If there is an unequal number of
observations within a group, then the last observation of the shorter group
is used repeatedly to match with subsequent observations of the longer
group.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Simple merge</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-datatable.com'>data.table</a></span><span class='op'>)</span>
<span class='va'>x1</span> <span class='op'>=</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>3L</span>, <span class='cn'>NA_integer_</span><span class='op'>)</span>,
t  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='cn'>NA_integer_</span><span class='op'>)</span>,
x  <span class='op'>=</span> <span class='fl'>11</span><span class='op'>:</span><span class='fl'>15</span><span class='op'>)</span>

<span class='va'>y1</span> <span class='op'>=</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>,
                y  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11L</span>, <span class='fl'>15L</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>x2</span> <span class='op'>=</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='cn'>NA</span><span class='op'>)</span>,
                t  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='cn'>NA_integer_</span><span class='op'>)</span>,
                x  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>16</span>, <span class='fl'>12</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>y2</span> <span class='op'>=</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>3</span><span class='op'>)</span>,
              yd <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>3</span><span class='op'>)</span>,
              y  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11L</span>, <span class='fl'>15L</span>, <span class='fl'>20L</span>, <span class='fl'>13L</span>, <span class='fl'>10L</span><span class='op'>)</span>,
              x  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>16</span><span class='op'>:</span><span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>merge</span><span class='op'>(</span><span class='va'>x1</span>, <span class='va'>y1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>&gt; removing key variables <span style='color: #262626;background-color: #DADADA;'>`id`</span><span> from </span><span style='color: #00BB00;'>yvars</span><span></span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'>-- </span><span style='font-weight: bold;'>JOYn Report</span><span> --</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt;    report n percent
#&gt; 1:      x 2     40%
#&gt; 2:  x &amp; y 3     60%
#&gt; 3:  total 5    100%</div><div class='output co'>#&gt; <span class='message'>---------------------------------------------------------- End of </span><span style='color: #00BB00;'>JOYn</span><span> report --</span></div><div class='output co'>#&gt;    id  t  x  y report
#&gt; 1:  1  1 11 11  x &amp; y
#&gt; 2:  1  2 12 11  x &amp; y
#&gt; 3:  2  1 13 15  x &amp; y
#&gt; 4:  3  2 14 NA      x
#&gt; 5: NA NA 15 NA      x</div><div class='input'>
<span class='co'># Bad merge for not specifying by argument</span>
<span class='fu'>merge</span><span class='op'>(</span><span class='va'>x2</span>, <span class='va'>y2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>&gt; removing key variables </span><span style='color: #262626;background-color: #DADADA;'>`id`</span><span> and </span><span style='color: #262626;background-color: #DADADA;'>`x`</span><span> from </span><span style='color: #00BB00;'>yvars</span><span></span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'>-- </span><span style='font-weight: bold;'>JOYn Report</span><span> --</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt;    report n percent
#&gt; 1:      x 4   44.4%
#&gt; 2:  x &amp; y 1   11.1%
#&gt; 3:      y 4   44.4%
#&gt; 4:  total 9    100%</div><div class='output co'>#&gt; <span class='message'>---------------------------------------------------------- End of </span><span style='color: #00BB00;'>JOYn</span><span> report --</span></div><div class='output co'>#&gt;    id  x  t yd  y report
#&gt; 1:  1 12  2 NA NA      x
#&gt; 2:  1 16  1  1 11  x &amp; y
#&gt; 3:  2 17 NA  2 15      y
#&gt; 4:  2 NA  1 NA NA      x
#&gt; 5:  3 20 NA  3 10      y
#&gt; 6:  3 NA  2 NA NA      x
#&gt; 7:  5 18 NA  5 20      y
#&gt; 8:  6 19 NA  6 13      y
#&gt; 9: NA 15 NA NA NA      x</div><div class='input'>
<span class='co'># good merge, ignoring variable x from y</span>
<span class='fu'>merge</span><span class='op'>(</span><span class='va'>x2</span>, <span class='va'>y2</span>, by <span class='op'>=</span> <span class='st'>"id"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>&gt; removing key variables </span><span style='color: #262626;background-color: #DADADA;'>`id`</span><span> from </span><span style='color: #00BB00;'>yvars</span><span></span></div><div class='output co'>#&gt; <span class='message'></span><span style='color: #00BBBB;'>i</span><span> variable </span><span style='color: #262626;background-color: #DADADA;'>`x`</span><span> in table y is ignored because arguments `update_NAs` and</span>
#&gt; <span class='message'>  `update_values` are FALSE.</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'>-- </span><span style='font-weight: bold;'>JOYn Report</span><span> --</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt;    report n percent
#&gt; 1:      x 1   14.3%
#&gt; 2:  x &amp; y 4   57.1%
#&gt; 3:      y 2   28.6%
#&gt; 4:  total 7    100%</div><div class='output co'>#&gt; <span class='message'>---------------------------------------------------------- End of </span><span style='color: #00BB00;'>JOYn</span><span> report --</span></div><div class='output co'>#&gt;    id  t  x yd  y report
#&gt; 1:  1  1 16  1 11  x &amp; y
#&gt; 2:  1  2 12  1 11  x &amp; y
#&gt; 3:  2  1 NA  2 15  x &amp; y
#&gt; 4:  3  2 NA  3 10  x &amp; y
#&gt; 5:  5 NA NA  5 20      y
#&gt; 6:  6 NA NA  6 13      y
#&gt; 7: NA NA 15 NA NA      x</div><div class='input'>
<span class='co'># update NAs in x variable form x</span>
<span class='fu'>merge</span><span class='op'>(</span><span class='va'>x2</span>, <span class='va'>y2</span>, by <span class='op'>=</span> <span class='st'>"id"</span>, update_NAs <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>&gt; removing key variables </span><span style='color: #262626;background-color: #DADADA;'>`id`</span><span> from </span><span style='color: #00BB00;'>yvars</span><span></span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'>-- </span><span style='font-weight: bold;'>JOYn Report</span><span> --</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt;        report n percent
#&gt; 1: NA updated 2   28.6%
#&gt; 2:          x 1   14.3%
#&gt; 3:      x &amp; y 2   28.6%
#&gt; 4:          y 2   28.6%
#&gt; 5:      total 7    100%</div><div class='output co'>#&gt; <span class='message'>---------------------------------------------------------- End of </span><span style='color: #00BB00;'>JOYn</span><span> report --</span></div><div class='output co'>#&gt;    id  t  x yd  y     report
#&gt; 1:  1  1 16  1 11      x &amp; y
#&gt; 2:  1  2 12  1 11      x &amp; y
#&gt; 3:  2  1 17  2 15 NA updated
#&gt; 4:  3  2 20  3 10 NA updated
#&gt; 5:  5 NA 18  5 20          y
#&gt; 6:  6 NA 19  6 13          y
#&gt; 7: NA NA 15 NA NA          x</div><div class='input'>
<span class='co'># Update values in x with variables from y</span>
<span class='fu'>merge</span><span class='op'>(</span><span class='va'>x2</span>, <span class='va'>y2</span>, by <span class='op'>=</span> <span class='st'>"id"</span>, update_values <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>&gt; removing key variables </span><span style='color: #262626;background-color: #DADADA;'>`id`</span><span> from </span><span style='color: #00BB00;'>yvars</span><span></span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt; <span class='message'>-- </span><span style='font-weight: bold;'>JOYn Report</span><span> --</span></div><div class='output co'>#&gt; </div><div class='output co'>#&gt;           report n percent
#&gt; 1:    NA updated 2   28.6%
#&gt; 2:   not updated 1   14.3%
#&gt; 3: value updated 1   14.3%
#&gt; 4:         x &amp; y 1   14.3%
#&gt; 5:             y 2   28.6%
#&gt; 6:         total 7    100%</div><div class='output co'>#&gt; <span class='message'>---------------------------------------------------------- End of </span><span style='color: #00BB00;'>JOYn</span><span> report --</span></div><div class='output co'>#&gt;    id  t  x yd  y        report
#&gt; 1:  1  1 16  1 11         x &amp; y
#&gt; 2:  1  2 16  1 11 value updated
#&gt; 3:  2  1 17  2 15    NA updated
#&gt; 4:  3  2 20  3 10    NA updated
#&gt; 5:  5 NA 18  5 20             y
#&gt; 6:  6 NA 19  6 13             y
#&gt; 7: NA NA 15 NA NA   not updated</div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://randrescastaneda.rbind.io/'>R.Andres Castaneda</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


